
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Wiraya API Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro&display=swap" rel="stylesheet">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.svg" class="logo" alt="Logo" />
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#contacts" class="toc-h1 toc-link" data-title="Contacts">Contacts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#send-a-contact" class="toc-h2 toc-link" data-title="Send a contact">Send a contact</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<blockquote>
<p>Base URL</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">https</span><span class="p">:</span><span class="c1">//api.wiraya.ai</span>
</code></pre>
<p>The API aims to allow our clients to build technical integrations where their systems communicate directly with the Wiraya platform in order to use Wiraya Activation Intelligence.</p>

<p>The API consists of <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a> endpoints, meaning that the URL encodes the resource and the HTTP method defines the action.</p>

<p>As an API primarily intended for data ingress, there’s no implementation for DELETE operations.</p>

<p>The Content-Type of the requests to the API is defined to be application/json with the UTF-8 character set. The JSON standard (RFC4627) defines how certain primitive types such as strings, integers, floats, objects, and arrays are to be encoded, but complex types such as datetime has no literal syntax provided. To that end, this specification defines that in communicating with the API, dates are to be encoded according to the ISO 8601 standard: “2016-04-11T09:11:43Z” or “2016-04-11T09:11:43.573921Z”. Note that the trailing “Z” is the ISO8601 designation for UTC.</p>

<p>If you&#39;re missing some feature or have any questions, please let us know!</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>HTTP Request</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// header</span>
<span class="nx">POST</span> <span class="nx">https</span><span class="p">:</span><span class="c1">//api.wiraya.ai/auth/Token/apikey HTTP/1.1</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="p">;</span> <span class="nx">charset</span><span class="o">=</span><span class="nx">utf</span><span class="o">-</span><span class="mi">8</span>

<span class="c1">// body</span>
<span class="p">{</span>
  <span class="s2">"key"</span><span class="p">:</span> <span class="s2">"YOUR_API_KEY"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>HTTP Response</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// header</span>
<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="p">;</span> <span class="nx">charset</span><span class="o">=</span><span class="nx">utf</span><span class="o">-</span><span class="mi">8</span>
<span class="nl">Date</span><span class="p">:</span> <span class="nx">Wed</span><span class="p">,</span> <span class="mi">26</span> <span class="nx">Apr</span> <span class="mi">2019</span> <span class="mi">08</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span> <span class="nx">GMT</span>

<span class="c1">// body</span>
<span class="p">{</span>
  <span class="s2">"authenticated"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"tokenExpires"</span><span class="p">:</span> <span class="s2">"2019-04-26T08:25:42.0418136Z"</span>
<span class="p">}</span>
</code></pre>
<p>The API uses tokens to authenticate requests. The token is acquired by calling the single endpoint that does not require such a token, and passing your API key to it. The returned response contains the token and its expiration date. Any future calls to the API needs to have this token passed in the header.</p>

<p>Each call to the WAI API needs to be secured with a token. It is acquired by calling the single endpoint that does not require such a token, and passing your API Key to it. Returned is a response that holds the token and its expiration date. Any future calls to the API needs to have this token passed in a header.</p>
<h1 id='contacts'>Contacts</h1>
<p>The Contact entity represents an individual, an end user to communicate with at some point. Each contact stores the information that is relevant on an individual level such as phone number, gender, age, location as well as interests and any other metadata applicable. Providing this information helps WAI to draw behavioral conclusions based on this data.</p>
<h2 id='send-a-contact'>Send a contact</h2>
<blockquote>
<p>HTTP Request for sending a contact</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">PUT</span> <span class="nx">https</span><span class="p">:</span><span class="c1">//api.wiraya.ai/api/Contact/12345 HTTP/1.1</span>
<span class="nl">Authorization</span><span class="p">:</span> <span class="nx">Bearer</span> <span class="p">[</span><span class="nx">YOUR_TOKEN</span><span class="p">]</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span>

<span class="p">{</span>
  <span class="s2">"personal"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s2">"phoneNumber"</span><span class="p">:</span><span class="s2">"46704134561"</span><span class="p">,</span>
    <span class="s2">"givenName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="s2">"surName"</span><span class="p">:</span> <span class="s2">"Doe"</span><span class="p">,</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Mr"</span><span class="p">,</span>
    <span class="s2">"gender"</span><span class="p">:</span> <span class="s2">"Male"</span><span class="p">,</span>
    <span class="s2">"birthDate"</span><span class="p">:</span> <span class="s2">"1980-01-01"</span>
  <span class="p">},</span>
  <span class="s2">"general"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s2">"city"</span><span class="p">:</span> <span class="s2">"Testershire"</span><span class="p">,</span>
    <span class="s2">"county"</span><span class="p">:</span> <span class="s2">"Dorset"</span><span class="p">,</span>
    <span class="s2">"country"</span><span class="p">:</span> <span class="s2">"UK"</span><span class="p">,</span>
    <span class="s2">"timeOfRegistration"</span><span class="p">:</span> <span class="s2">"2018-03-30T16:43:11Z"</span><span class="p">,</span>
    <span class="s2">"postCode"</span><span class="p">:</span> <span class="s2">"DT11 0PS"</span><span class="p">,</span>
    <span class="s2">"accountStatus"</span><span class="p">:</span> <span class="s2">"active"</span><span class="p">,</span>
    <span class="s2">"forgotPasswdTimes"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="s2">"latestClientDetailUpdate"</span><span class="p">:</span> <span class="s2">"2018-04-11T11:21:43Z"</span><span class="p">,</span>
    <span class="s2">"nrLogins"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="s2">"latestLogin"</span><span class="p">:</span> <span class="s2">"2018-05-07T19:22:11Z"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>HTTP Response for sending a contact</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nl">Date</span><span class="p">:</span> <span class="nx">Wed</span><span class="p">,</span> <span class="mi">26</span> <span class="nx">Apr</span> <span class="mi">2017</span> <span class="mi">08</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="mi">52</span> <span class="nx">GMT</span>

<span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"49593967912456823050646721704338680985139835900719529986"</span><span class="p">],</span>
  <span class="s2">"error"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"failures"</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre>
<p><code>PUT https://api.wiraya.ai/api/Contact/[contactID]</code></p>

<p>Sends a contact. The <code>contactID</code> represents your contact id which you will refer back to when additional data, such as events and metrics, should be posted to that contact. Let it be an identifier of the customer that is not resolvable to an individual by a 3rd part.</p>

<p><strong>Contact Request Model</strong></p>

<p><code>javascript
{
  personal { ... }
  general { ... }
}
</code></p>

<p>In the &quot;personal&quot; section, put user information (PII) that needs to be cleared at end of project (e.g. data privacy laws).</p>

<p>In the &quot;general&quot; section, put user information that is generic enough to not identify a specific individual.</p>
<h1 id='errors'>Errors</h1>
<blockquote>
<p>HTTP Response for when exceeding bulk limit</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// header</span>
<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">400</span> <span class="nx">Bad</span> <span class="nx">Request</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="p">;</span> <span class="nx">charset</span><span class="o">=</span><span class="nx">utf</span><span class="o">-</span><span class="mi">8</span>
<span class="nl">Date</span><span class="p">:</span> <span class="nx">Wed</span><span class="p">,</span> <span class="mi">26</span> <span class="nx">Apr</span> <span class="mi">2017</span> <span class="mi">08</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span> <span class="nx">GMT</span>

<span class="c1">// body</span>
<span class="p">{</span>
  <span class="s2">"bulkItemLimitExceeded"</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre>
<p>Normally errors are identified by an error HTTP status code.</p>

<blockquote>
<p>HTTP Response for partially successful bulk request</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// header</span>
<span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="p">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="p">;</span> <span class="nx">charset</span><span class="o">=</span><span class="nx">utf</span><span class="o">-</span><span class="mi">8</span>
<span class="nl">Date</span><span class="p">:</span> <span class="nx">Wed</span><span class="p">,</span> <span class="mi">26</span> <span class="nx">Apr</span> <span class="mi">2017</span> <span class="mi">08</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span> <span class="nx">GMT</span>

<span class="c1">// body</span>
<span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span>    
  <span class="p">[</span>
    <span class="s2">"49584134327499146337076065330038012842683545324179423234"</span><span class="p">,</span>
    <span class="kc">null</span>
  <span class="p">]</span>
  <span class="s2">"error"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"failures"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s2">"12345"</span><span class="p">:</span>
    <span class="p">{</span>
      <span class="s2">"retry"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>A bulk request can be partially successful.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
